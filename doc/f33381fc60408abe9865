<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>Laravel 5.4 + Vue 2.1 でSPAアプリケーション作成チュートリアル - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="何となく Laravel ＋ Vue.js の使い方が分かってきた。
自分の頭の整理を兼ねて、書き残しておく。


処理の流れ


ブラウザ → Laravel:  SPAのViewをリクエスト（初回のみ）
Vue → Laravel:  XHRでデータをリクエスト
Vue → ブラウザ:  クライアントサイドでのルーティング



Laravel の役割


Webサーバー。起点となるSPAのViewを初回だけ返す。
APIサーバー。サーバーサイドでデータを処理し、J..." name="description" /><meta content="#55c500" name="theme-color" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="YDP140" name="twitter:creator" /><meta content="Laravel 5.4 + Vue 2.1 でSPAアプリケーション作成チュートリアル - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="https://qiita.com/acro5piano/items/f33381fc60408abe9865" property="og:url" /><meta content="https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png" property="og:image" /><meta content="何となく `Laravel` ＋ `Vue.js` の使い方が分かってきた。
自分の頭の整理を兼ねて、書き残しておく。

# 処理の流れ

- ブラウザ → Laravel:  SPAのViewをリクエスト（初回のみ）
- Vue →..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link rel="canonical" href="https://qiita.com/acro5piano/items/f33381fc60408abe9865" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-4ff10c1e1e2b5fcb353ff9cafdd56c70.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public-b9a847d8a0ef7a7a2a78572b6764ba53.min.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="PtRhuYeybHUcWZj9M4zWfEO4IYsMFE9XiBN8Y6abyKB73HuCB8dsMO60qyTHkD3FKWBDhNPXBUW1XtVVTZBrew==" /><script>
  window.gtmDataLayer = [
    {
      'analytics.dimension5': 'false',
      'app.env': 'production',
      'app.layoutVersion': 1,
      'app.userId': null
    },
    { 'gtm.start': new Date().getTime(), event: 'gtm.js' }
  ];
</script>
<script src="https://www.googletagmanager.com/gtm.js?id=GTM-TBQWPN&l=gtmDataLayer" async></script>
</head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"asset_host":"cdn.qiita.com","TLD":"com","controller_path":"public/items","controller_action":"public/items#show","controller":"items","action":"show","action_path":"public/items#show","env":"production","flash":{},"is_team_page":false,"request_parameters":{"controller":"public/items","action":"show","user_id":"acro5piano","type":"items","id":"f33381fc60408abe9865"},"root_domain":"qiita.com","variant":null,"config":{"mixpanel":{"per_team":"c0a2116368b33b44b5029ebd2cc9b094","public":"17d24b448ca579c365d2d1057f3a1791","team":"b7c0342acba2dbc8742484d98788efb3"},"default_locale":"en","locale":"en"},"team":null,"user":null,"GIT_BRANCH":null,"DEBUG":false};

</script>
<div class="st-HeaderContainer"><script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeaderContainer" data-dom-id="GlobalHeaderContainer-react-component-2de0ac9f-fbe4-42e9-b25b-7812db0247d3">{"user":null,"realms":[{"human_name":"Qiita","is_current_realm":true,"is_qiita":true,"is_qiita_team":false,"logged_in_user":null,"team_id":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","unreadNotificationsCount":null,"locale":"en","is_fluid":false}</script>
    <div id="GlobalHeaderContainer-react-component-2de0ac9f-fbe4-42e9-b25b-7812db0247d3"></div>
    
</div><div id="main"><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', '', 'auto', { name: 'userTracker' });
ga('userTracker.send', 'pageview');</script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script type="application/ld+json">{  "@context": "http://schema.org",  "@type": "BreadcrumbList",  "itemListElement": [    {      "@type": "ListItem",      "position": 1,      "item": {        "@id": "/",        "name": "Qiita"      }    },    {      "@type": "ListItem",      "position": 2,      "item": {        "@id": "/tags/PHP",        "name": "PHP"      }    }  ]}</script><article class="p-items" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="p-items_wrapper"><div class="p-items_container"><div class="p-items_stickyMenu it-Actions" data-mount-target="articleStickyMenu"></div><div class="p-items_main"><div class="p-items_article" data-article-props="{&quot;author&quot;:{&quot;name&quot;:&quot;Kazuya Gosho&quot;,&quot;urlName&quot;:&quot;acro5piano&quot;,&quot;profileImageUrl&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/103885/profile-images/1484882017&quot;,&quot;description&quot;:&quot;A Web Application Engineer.&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/acro5piano&quot;,&quot;followUrl&quot;:&quot;https://qiita.com/acro5piano/follow&quot;,&quot;unfollowUrl&quot;:&quot;https://qiita.com/acro5piano/unfollow&quot;},&quot;createdAtInUnixtime&quot;:1488851142,&quot;isBanned&quot;:false,&quot;isLiked&quot;:false,&quot;isPublic&quot;:true,&quot;isSecret&quot;:false,&quot;isStocked&quot;:false,&quot;likesCount&quot;:101,&quot;showUrl&quot;:&quot;https://qiita.com/acro5piano/items/f33381fc60408abe9865&quot;,&quot;tags&quot;:[{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/d27cef992da64e91db0deea5bb75de7b577e2c4d/large.jpg?1478446216&quot;,&quot;mediumIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/1420ca7652bf7c28bdab51be6f5bcd4640df27b1/medium.jpg?1478446216&quot;,&quot;name&quot;:&quot;PHP&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/PHP&quot;,&quot;thumbIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/522ed59e3f9afbf898f620636cd8d5a3906f7702/thumb.jpg?1478446216&quot;,&quot;urlName&quot;:&quot;php&quot;},{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/2b5859be7eb617d91c52a835834c7f8a95e7a834/large.jpg?1490807160&quot;,&quot;mediumIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/65275b3d3423ddf27cec968034cca8850e4ca97b/medium.jpg?1490807160&quot;,&quot;name&quot;:&quot;JavaScript&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/JavaScript&quot;,&quot;thumbIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/6b16d05cd0984181b0ee7f16e7ff45999958c3b6/thumb.jpg?1490807160&quot;,&quot;urlName&quot;:&quot;javascript&quot;},{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/0931da0fab412f7e22339dbbcdde1f9bc746e8aa/large.jpg?1447725374&quot;,&quot;mediumIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/654b28810d47c48ab0c7953dedab8b105a3b9ceb/medium.jpg?1447725374&quot;,&quot;name&quot;:&quot;laravel&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/laravel&quot;,&quot;thumbIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/0e46e46087a0c3fc627af55983b7bf264072e9ce/thumb.jpg?1447725374&quot;,&quot;urlName&quot;:&quot;laravel&quot;},{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/ad7b905b3e30dd18d01d563eeeb6e8988b3e3399/large.jpg?1478446740&quot;,&quot;mediumIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/21b7b9e1624f4b157a94ad04a99cd7ab7ab1c0c8/medium.jpg?1478446740&quot;,&quot;name&quot;:&quot;vue.js&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/vue.js&quot;,&quot;thumbIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/b384eee3c9790d97dbc26ef9a621baf2b2fb8e2a/thumb.jpg?1478446740&quot;,&quot;urlName&quot;:&quot;vue.js&quot;}],&quot;title&quot;:&quot;Laravel 5.4 + Vue 2.1 でSPAアプリケーション作成チュートリアル&quot;,&quot;uuid&quot;:&quot;f33381fc60408abe9865&quot;,&quot;body&quot;:&quot;\u003cp\u003e何となく \u003ccode\u003eLaravel\u003c/code\u003e ＋ \u003ccode\u003eVue.js\u003c/code\u003e の使い方が分かってきた。\u003cbr\u003e\n自分の頭の整理を兼ねて、書き残しておく。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;処理の流れ\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E5%87%A6%E7%90%86%E3%81%AE%E6%B5%81%E3%82%8C\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e処理の流れ\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eブラウザ → Laravel:  SPAのViewをリクエスト（初回のみ）\u003c/li\u003e\n\u003cli\u003eVue → Laravel:  XHRでデータをリクエスト\u003c/li\u003e\n\u003cli\u003eVue → ブラウザ:  クライアントサイドでのルーティング\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;laravel-の役割\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#laravel-%E3%81%AE%E5%BD%B9%E5%89%B2\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eLaravel の役割\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eWebサーバー。起点となるSPAのViewを初回だけ返す。\u003c/li\u003e\n\u003cli\u003eAPIサーバー。サーバーサイドでデータを処理し、JSONを返す。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;vue-の役割\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#vue-%E3%81%AE%E5%BD%B9%E5%89%B2\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eVue の役割\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eViewの描画。変数のバインド、繰り返し、イベント検知など。\u003c/li\u003e\n\u003cli\u003eRouter。 \u003ccode\u003evue-router\u003c/code\u003e を使って、URLに対応する Vue Component を設定する。\u003c/li\u003e\n\u003cli\u003eサーバーサイドにリクエスト。 \u003ccode\u003eaxios\u003c/code\u003e を使う。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eLaravel には上記を実現する機構が整っている。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;完成イメージ\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e完成イメージ\u003c/h1\u003e\n\n\u003cp\u003eただ記事を表示するだけの、ブログのようなものを作っていく。\u003c/p\u003e\n\n\u003cp\u003eSPAなので、コンポーネント志向を使ってモジュール分割することを前提にする。\u003c/p\u003e\n\n\u003cp\u003e今後、 \u003ccode\u003eJWTAuth\u003c/code\u003e を使ったログイン、記事作成、コメント投稿、なども追加していきたい。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\&quot;https://camo.qiitausercontent.com/78890f048c2f7e4f18fab38c05e5aa5e94045621/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130333838352f32333839353937302d643835362d353038302d313965352d3238616463356139383535662e706e67\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener\&quot;\u003e\u003cimg src=\&quot;https://camo.qiitausercontent.com/78890f048c2f7e4f18fab38c05e5aa5e94045621/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130333838352f32333839353937302d643835362d353038302d313965352d3238616463356139383535662e706e67\&quot; alt=\&quot;Screenshot_2017-03-07_11-06-41.png\&quot; data-canonical-src=\&quot;https://qiita-image-store.s3.amazonaws.com/0/103885/23895970-d856-5080-19e5-28adc5a9855f.png\&quot;\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e（あくまでイメージです、このチュートリアルではCSSやSeedを入れてないためこうはなりません）\u003c/p\u003e\n\n\u003cp\u003eちなみにログインが必要な時は、JWTというトークンベースのステートレスな認証を使うと良さげ。本記事は単純化を目指しているので、下記の記事で解説した。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\&quot;https://qiita.com/acro5piano/items/eb29f13b82f386220460\&quot; class=\&quot;autolink\&quot; id=\&quot;reference-368d7740a4b217c70da1\&quot;\u003ehttps://qiita.com/acro5piano/items/eb29f13b82f386220460\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;アプリ作成\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%82%A2%E3%83%97%E3%83%AA%E4%BD%9C%E6%88%90\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eアプリ作成\u003c/h1\u003e\n\n\u003cp\u003eこの辺はいつも通り\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;bash\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ecomposer create-project \u003cspan class=\&quot;nt\&quot;\u003e--prefer-dist\u003c/span\u003e laravel/laravel blog\n\u003cspan class=\&quot;nb\&quot;\u003ecd \u003c/span\u003eblog\n\n\u003cspan class=\&quot;c\&quot;\u003e# change database driver from mysql to sqlite\u003c/span\u003e\nperl \u003cspan class=\&quot;nt\&quot;\u003e-i\u003c/span\u003e \u003cspan class=\&quot;nt\&quot;\u003e-pe\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;s/DB_.+\\n//g&#39;\u003c/span\u003e .env\n\u003cspan class=\&quot;nb\&quot;\u003eecho\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;DB_CONNECTION=sqlite&#39;\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026gt;\u003c/span\u003e .env\n\u003cspan class=\&quot;nb\&quot;\u003etouch \u003c/span\u003edatabase/database.sqlite\n\nphp artisan serve\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;サーバーサイド-laravel\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89-laravel\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eサーバーサイド (Laravel)\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;model\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#model\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eModel\u003c/h2\u003e\n\n\u003cp\u003e記事を取ってくる \u003ccode\u003eArticle\u003c/code\u003e モデルを作成する\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;php\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003edatabase/migrations/2017_03_05_064019_create_articles_table.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;cp\&quot;\u003e\u0026lt;?php\u003c/span\u003e\n\n\u003cspan class=\&quot;k\&quot;\u003euse\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eIlluminate\\Support\\Facades\\Schema\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e;\u003c/span\u003e\n\u003cspan class=\&quot;k\&quot;\u003euse\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eIlluminate\\Database\\Schema\\Blueprint\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e;\u003c/span\u003e\n\u003cspan class=\&quot;k\&quot;\u003euse\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eIlluminate\\Database\\Migrations\\Migration\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e;\u003c/span\u003e\n\n\u003cspan class=\&quot;k\&quot;\u003eclass\u003c/span\u003e \u003cspan class=\&quot;nc\&quot;\u003eCreateArticlesTable\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003eextends\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eMigration\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;sd\&quot;\u003e/**\n     * Run the migrations.\n     *\n     * @return void\n     */\u003c/span\u003e\n    \u003cspan class=\&quot;k\&quot;\u003epublic\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efunction\u003c/span\u003e \u003cspan class=\&quot;nf\&quot;\u003eup\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n        \u003cspan class=\&quot;nx\&quot;\u003eSchema\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003ecreate\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;articles&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efunction\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eBlueprint\u003c/span\u003e \u003cspan class=\&quot;nv\&quot;\u003e$table\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n            \u003cspan class=\&quot;nv\&quot;\u003e$table\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eincrements\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;id&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n            \u003cspan class=\&quot;nv\&quot;\u003e$table\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003einteger\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;user_id&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003ereferences\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;id&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eon\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;users&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eunsigned\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eindex\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e();\u003c/span\u003e\n            \u003cspan class=\&quot;nv\&quot;\u003e$table\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003etext\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;content&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n            \u003cspan class=\&quot;nv\&quot;\u003e$table\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003estring\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;title&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n            \u003cspan class=\&quot;nv\&quot;\u003e$table\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003etimestamps\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e();\u003c/span\u003e\n        \u003cspan class=\&quot;p\&quot;\u003e});\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\n    \u003cspan class=\&quot;sd\&quot;\u003e/**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\u003c/span\u003e\n    \u003cspan class=\&quot;k\&quot;\u003epublic\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efunction\u003c/span\u003e \u003cspan class=\&quot;nf\&quot;\u003edown\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n        \u003cspan class=\&quot;nx\&quot;\u003eSchema\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003edropIfExists\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;articles&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;php\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eapp/Models/Article.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;cp\&quot;\u003e\u0026lt;?php\u003c/span\u003e\n\n\u003cspan class=\&quot;k\&quot;\u003enamespace\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eApp\\Models\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e;\u003c/span\u003e\n\n\u003cspan class=\&quot;k\&quot;\u003euse\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eIlluminate\\Database\\Eloquent\\Model\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e;\u003c/span\u003e\n\n\u003cspan class=\&quot;k\&quot;\u003eclass\u003c/span\u003e \u003cspan class=\&quot;nc\&quot;\u003eArticle\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003eextends\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eModel\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ephp artisan migrate\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;routing\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#routing\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eRouting\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;web\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#web\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eWeb\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;php\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eroutes/web.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;cp\&quot;\u003e\u0026lt;?php\u003c/span\u003e\n\n\u003cspan class=\&quot;nx\&quot;\u003eRoute\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eget\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;/{any}&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efunction\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;k\&quot;\u003ereturn\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eview\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;app&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e})\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003ewhere\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;any&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;.*&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eブラウザの Routing は Vue が担当するので、不要。\u003cbr\u003e\nLaravel \u003ccode\u003e/api/*\u003c/code\u003e 以外の全てのリクエストに対して、 \u003ccode\u003eresources/views/app.blade.php\u003c/code\u003e を返す。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003e/\u003c/code\u003e だけでいいじゃんと思うかもしれないが、それだと \u003ccode\u003e/\u003c/code\u003e 以外で画面を更新すると Laravel 側のルーティングエラーになってしまう。\u003c/p\u003e\n\n\u003cp\u003eよって全てのルーティングで設定しておかないといけない。\u003c/p\u003e\n\n\u003cp\u003e参考: \u003ca href=\&quot;https://laracasts.com/discuss/channels/vue/using-vue-router-with-laravel\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttps://laracasts.com/discuss/channels/vue/using-vue-router-with-laravel\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;api\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#api\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eAPI\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;php\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eroutes/api.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;cp\&quot;\u003e\u0026lt;?php\u003c/span\u003e\n\n\u003cspan class=\&quot;k\&quot;\u003euse\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eIlluminate\\Http\\Request\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e;\u003c/span\u003e\n\n\u003cspan class=\&quot;nx\&quot;\u003eRoute\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003egroup\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e([\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;middleware&#39;\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;api&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e],\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efunction\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;nx\&quot;\u003eRoute\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eget\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;articles&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e  \u003cspan class=\&quot;k\&quot;\u003efunction\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n        \u003cspan class=\&quot;nv\&quot;\u003e$articles\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eArticle\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eall\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003etake\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;mi\&quot;\u003e5\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n        \u003cspan class=\&quot;k\&quot;\u003ereturn\u003c/span\u003e \u003cspan class=\&quot;nv\&quot;\u003e$articles\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e;\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e});\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eGET /api/articles\u003c/code\u003e で、記事5件をJsonで返す。\u003c/p\u003e\n\n\u003cp\u003eController は簡略化のために今は使わない。\u003cbr\u003e\nアプリが成熟してきたら、Controller を作成して\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;php\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eroutes/api.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003eRoute\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003egroup\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e([\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;middleware&#39;\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;api&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e],\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efunction\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;nx\&quot;\u003eRoute\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e::\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eget\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;articles&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e  \u003cspan class=\&quot;s1\&quot;\u003e&#39;ArticleController@index&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eなどとしても良いだろう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;フロントエンド\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eフロントエンド\u003c/h1\u003e\n\n\u003cp\u003e\u003ccode\u003evue-router\u003c/code\u003e を使う。クライアントサイドでルーティングするためのVue.js公式ライブラリ。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;diff\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003epackage.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e       \&quot;lodash\&quot;: \&quot;^4.17.4\&quot;,\n       \&quot;vue\&quot;: \&quot;^2.1.10\&quot;,\n\u003cspan class=\&quot;gi\&quot;\u003e+++    \&quot;vue-router\&quot;: \&quot;^2.3.0\&quot;\n\u003c/span\u003e  }\n}\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003enpm install\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;webpack-を起動\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#webpack-%E3%82%92%E8%B5%B7%E5%8B%95\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eWebpack を起動\u003c/h2\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003enpm run watch\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003enpm run watch\u003c/code\u003e で \u003ccode\u003eWebpack\u003c/code\u003e が起動し、アプリケーションの変更を検知してフロントエンドをビルドする。\u003cbr\u003e\nもしここでエラーになったら、 \u003ccode\u003epackage.json\u003c/code\u003e の \u003ccode\u003escripts\u003c/code\u003e 以下のパスを適当に調整する。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;axios-を使う\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#axios-%E3%82%92%E4%BD%BF%E3%81%86\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eaxios を使う\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003eエイクシオス\u003c/code\u003e って発音するらしい。jQueryの \u003ccode\u003e$.ajax\u003c/code\u003e の代替という認識\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eresources/assets/js/bootstrap.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;c1\&quot;\u003e// ...\u003c/span\u003e\n\n\u003cspan class=\&quot;nb\&quot;\u003ewindow\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eaxios\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erequire\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;axios&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\n\n\u003cspan class=\&quot;nb\&quot;\u003ewindow\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eaxios\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003edefaults\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eheaders\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ecommon\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;s1\&quot;\u003e&#39;X-CSRF-TOKEN&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;nb\&quot;\u003ewindow\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eLaravel\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ecsrfToken\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\n    \u003cspan class=\&quot;s1\&quot;\u003e&#39;X-Requested-With&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;XMLHttpRequest&#39;\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\n\u003cspan class=\&quot;nx\&quot;\u003eVue\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eprototype\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003e$http\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;nb\&quot;\u003ewindow\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eaxios\u003c/span\u003e\n\n\u003cspan class=\&quot;c1\&quot;\u003e// ...\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこうしておくと、 Vue Component から \u003ccode\u003ethis.$http.get(....\u003c/code\u003e みたいに使える。\u003c/p\u003e\n\n\u003cp\u003e（追記）\u003cbr\u003e\n\u003ca href=\&quot;/foursue\&quot; class=\&quot;user-mention js-hovercard\&quot; title=\&quot;foursue\&quot; data-hovercard-target-type=\&quot;user\&quot; data-hovercard-target-name=\&quot;foursue\&quot;\u003e@foursue\u003c/a\u003e さんから、\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eESLintがエラーを検出してしまうので、こちらのほうが良いのではないでしょうか？\u003cbr\u003e\n\u003ccode\u003ewindow.Vue.prototype.$http = window.axios\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eという編集リクエストを頂きました。ありがとうございます。\u003c/p\u003e\n\n\u003cp\u003eこれについてちょっと調べたのですが、公式アナウンスで\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eVue.prototype.$http = axios と設定すればよいです。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eとあります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\&quot;https://jp.vuejs.org/2016/11/03/retiring-vue-resource/\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttps://jp.vuejs.org/2016/11/03/retiring-vue-resource/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eまた、GitHubでもこのコードはちらほら見かけます。例）\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\&quot;https://github.com/pespantelis/vue-typeahead/blob/9d22a63b28569c2f97543e9ddabcde432d1b9926/demo/main.js\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttps://github.com/pespantelis/vue-typeahead/blob/9d22a63b28569c2f97543e9ddabcde432d1b9926/demo/main.js\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ccode\u003ewindow.Vue.prototype.$http ...\u003c/code\u003e の書き方を採用すると、 \u003ccode\u003eVue.use(...)\u003c/code\u003e なども \u003ccode\u003ewindow.Vue.use(...)\u003c/code\u003e としなくてはならないので、不自然なのかなと思います。\u003c/p\u003e\n\n\u003cp\u003eそもそも \u003ccode\u003ewindow\u003c/code\u003e はグローバルオブジェクトで、ブラウザ側からも参照したい値を格納するのに使うものかと思います。\u003c/p\u003e\n\n\u003cp\u003e例： \u003ccode\u003ewindow.Laravel.csrfToken = {{ csrf_token() }}\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eなので、このままにしておきます。\u003c/p\u003e\n\n\u003cp\u003eESLint側の設定を変更するか、 \u003ccode\u003ewindow\u003c/code\u003e オブジェクトを使っていないファイルに記述するべきかと思います。\u003c/p\u003e\n\n\u003cp\u003eちゃんと \u003ccode\u003ewindow\u003c/code\u003e が何だか知る良い機会になりました。重ねてお礼申し上げます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;メインのjsファイル\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AEjs%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eメインのJSファイル\u003c/h2\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eresources/assets/js/app.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;k\&quot;\u003eimport\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eVue\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efrom\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;vue&#39;\u003c/span\u003e\n\u003cspan class=\&quot;k\&quot;\u003eimport\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eVueRouter\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003efrom\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;vue-router&#39;\u003c/span\u003e\n\n\u003cspan class=\&quot;nx\&quot;\u003erequire\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;./bootstrap&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\n\n\u003cspan class=\&quot;nx\&quot;\u003eVue\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003euse\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eVueRouter\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\n\n\u003cspan class=\&quot;nx\&quot;\u003eVue\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ecomponent\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;navbar&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erequire\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;./components/Layouts/Navbar.vue&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e))\u003c/span\u003e\n\n\u003cspan class=\&quot;kd\&quot;\u003econst\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erouter\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003enew\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eVueRouter\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e({\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003emode\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;history&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003eroutes\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e[\u003c/span\u003e\n        \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e \u003cspan class=\&quot;na\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;/&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;na\&quot;\u003ecomponent\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erequire\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;./components/Articles/Index.vue&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\n        \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e \u003cspan class=\&quot;na\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;/about&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;na\&quot;\u003ecomponent\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erequire\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;./components/About.vue&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e]\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e})\u003c/span\u003e\n\n\u003cspan class=\&quot;kd\&quot;\u003econst\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eapp\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003enew\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eVue\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e({\u003c/span\u003e\n    \u003cspan class=\&quot;nx\&quot;\u003erouter\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003eel\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;#app&#39;\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e})\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eここで \u003ccode\u003evue-router\u003c/code\u003e を定義しているので、 HTMLに書かれた \u003ccode\u003e\u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt;\u003c/code\u003e が下記のように動的に変わる。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003e/\u003c/code\u003e -\u0026gt; \u003ccode\u003eArticles/Index.vue\u003c/code\u003e を表示\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e/about\u003c/code\u003e -\u0026gt; \u003ccode\u003eAbout.vue\u003c/code\u003e を表示\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e記事詳細画面を作るならば\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e \u003cspan class=\&quot;nl\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;s1\&quot;\u003e&#39;/articles/:id&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003ecomponent\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erequire\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;./components/Articles/Show.vue&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eなどというルーティングを設定してもいいでしょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;viewhtml\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#viewhtml\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eView(HTML)\u003c/h2\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;php\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eresouces/views/app.blade.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026lt;!\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eDOCTYPE\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003ehtml\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ehtml\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003elang\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;{{ config(&#39;app.locale&#39;) }}\&quot;\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ehead\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003emeta\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003echarset\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;utf-8\&quot;\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003emeta\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003ehttp\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e-\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eequiv\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;X-UA-Compatible\&quot;\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003econtent\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;IE=edge\&quot;\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003emeta\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003ename\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;viewport\&quot;\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003econtent\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;width=device-width, initial-scale=1\&quot;\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003etitle\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eLaravel\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003etitle\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nb\&quot;\u003elink\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erel\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;stylesheet\&quot;\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003ehref\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;{{ mix(&#39;css/app.css&#39;) }}\&quot;\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003escript\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003escript\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\&quot;nx\&quot;\u003ewindow\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eLaravel\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n                \u003cspan class=\&quot;nx\&quot;\u003ecsrfToken\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;s2\&quot;\u003e\&quot;{{ csrf_token() }}\&quot;\u003c/span\u003e\n            \u003cspan class=\&quot;p\&quot;\u003e};\u003c/span\u003e\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003escript\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ehead\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ebody\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ediv\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eid\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;app\&quot;\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003enavbar\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003enavbar\u003c/span\u003e\u003cspan class=\&quot;o\&quot;\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\&quot;o\&quot;\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ediv\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003eclass\u003c/span\u003e\u003cspan class=\&quot;err\&quot;\u003e=\&quot;\u003c/span\u003e\u003cspan class=\&quot;nc\&quot;\u003econtainer\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;\u0026gt;\n                \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n    \u0026lt;/body\u0026gt;\n    \u0026lt;script src=\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e{{\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003emix\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;js/app.js&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e}}\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;\u0026gt;\u0026lt;/script\u0026gt;\n\u0026lt;/html\u0026gt;\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eLaravel はこのファイルを返すだけ。どのURLに対してもこの \u003ccode\u003eapp.blade.php\u003c/code\u003e を返す。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;vue-component\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#vue-component\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eVue Component\u003c/h2\u003e\n\n\u003cp\u003eまずは静的なコンポーネント\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;html\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eresources/assets/js/components/Layouts/Navbar.vue\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;template\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;nav\u003c/span\u003e \u003cspan class=\&quot;na\&quot;\u003eclass=\u003c/span\u003e\u003cspan class=\&quot;s\&quot;\u003e\&quot;navbar navbar-default\&quot;\u003c/span\u003e\u003cspan class=\&quot;nt\&quot;\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;li\u0026gt;\u003c/span\u003e\n            \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;router-link\u003c/span\u003e  \u003cspan class=\&quot;na\&quot;\u003eto=\u003c/span\u003e\u003cspan class=\&quot;s\&quot;\u003e\&quot;/about\&quot;\u003c/span\u003e\u003cspan class=\&quot;nt\&quot;\u003e\u0026gt;\u003c/span\u003eAbout\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/router-link\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/li\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/nav\u0026gt;\u003c/span\u003e\n\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/template\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;html\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eresources/assets/js/components/About.vue\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;template\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;div\u0026gt;\u003c/span\u003e\n        This page describe who we are.\n    \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/template\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eいよいよVueがLaravelに対してリクエストを送る\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;html\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eresources/assets/js/components/Articles/Index.vue\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;template\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\&quot;na\&quot;\u003ev-for=\u003c/span\u003e\u003cspan class=\&quot;s\&quot;\u003e\&quot;article in articles\&quot;\u003c/span\u003e\u003cspan class=\&quot;nt\&quot;\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;h1\u0026gt;\u003c/span\u003e\n            \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;router-link\u003c/span\u003e \u003cspan class=\&quot;na\&quot;\u003e:to=\u003c/span\u003e\u003cspan class=\&quot;s\&quot;\u003e\&quot;&#39;/articles/&#39; + article.id\&quot;\u003c/span\u003e\u003cspan class=\&quot;nt\&quot;\u003e\u0026gt;\u003c/span\u003e{{ article.title }}\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/router-link\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n        \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\n            {{ article.content }}\n        \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/template\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;script\u0026gt;\u003c/span\u003e\n    \u003cspan class=\&quot;k\&quot;\u003eexport\u003c/span\u003e \u003cspan class=\&quot;k\&quot;\u003edefault\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n        \u003cspan class=\&quot;nx\&quot;\u003ecreated\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n            \u003cspan class=\&quot;k\&quot;\u003ethis\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003efetchArticles\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e\n        \u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\n        \u003cspan class=\&quot;nx\&quot;\u003edata\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n            \u003cspan class=\&quot;k\&quot;\u003ereturn\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n                \u003cspan class=\&quot;na\&quot;\u003earticles\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e[]\u003c/span\u003e\n            \u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n        \u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003emethods\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n            \u003cspan class=\&quot;nx\&quot;\u003efetchArticles\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e()\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n                \u003cspan class=\&quot;k\&quot;\u003ethis\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003e$http\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;kd\&quot;\u003eget\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e&#39;/api/articles&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\n                \u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ethen\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eres\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u0026gt;\u003c/span\u003e  \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n                    \u003cspan class=\&quot;k\&quot;\u003ethis\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003earticles\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003eres\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003edata\u003c/span\u003e\n                \u003cspan class=\&quot;p\&quot;\u003e})\u003c/span\u003e\n            \u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n        \u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003cspan class=\&quot;nt\&quot;\u003e\u0026lt;/script\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003ecreated()\u003c/code\u003e で、 Component が読み込まれた際に行う処理を書ける。\u003cbr\u003e\n\u003ccode\u003edata()\u003c/code\u003e は、Viewに渡す変数を定義する。\u003c/p\u003e\n\n\u003cp\u003eTODO:\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003erouter-link\u003c/code\u003e のところは、もっとエレガントに書けるはず。\u003cbr\u003e\n\u003ccode\u003ethis.$router.push\u003c/code\u003e とかすれば良いのだろうが、長いので今はこのままにする。\u003c/p\u003e\n\n\u003cp\u003ec.f.) \u003ca href=\&quot;http://router.vuejs.org/en/essentials/navigation.html\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://router.vuejs.org/en/essentials/navigation.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eTODO: \u003ccode\u003ecreated\u003c/code\u003e と \u003ccode\u003emounted\u003c/code\u003e との違いは何だろう？\u003c/p\u003e\n\n\u003cp\u003e↓ 追記\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003ecreated\u003c/code\u003e は、SPAアプリが最初に読み込まれたタイミングで一度だけ実行される。\u003cbr\u003e\n\u003ccode\u003emounted\u003c/code\u003e は、 \u003ccode\u003evue-router\u003c/code\u003e によってコンポーネントがセットされる度に更新される。\u003c/p\u003e\n\n\u003cp\u003e・・・だと思う。本当に最初だけしかやらなくて良い処理は \u003ccode\u003ecreated\u003c/code\u003e に書くのが吉。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;所感\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E6%89%80%E6%84%9F\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e所感\u003c/h1\u003e\n\n\u003cp\u003e以上は走り書きなので、抜け漏れなどあれば指摘お願いしますm(_ _)m\u003c/p\u003e\n\n\u003cp\u003eLaravel いいなと思ったのが、最初から \u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eVue\u003c/code\u003e, \u003ccode\u003eaxios\u003c/code\u003e がインストール済み\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eWebpack\u003c/code\u003e によるビルドが設定済み\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eroutes/api.php\u003c/code\u003e, \u003ccode\u003eroutes/web.php\u003c/code\u003e のルーティング切り分け\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eとなっているところです。\u003c/p\u003e\n\n\u003cp\u003eJSの管理を自前で行わずに、NodeJSに任せているところが潔くて好きです。\u003c/p\u003e\n\n\u003cp\u003eこの辺の設計思想は、 \u003ccode\u003ewebpacker.gem\u003c/code\u003e を導入した \u003ccode\u003eRails\u003c/code\u003e とは真逆だなと思いました。\u003c/p\u003e\n\n\u003cp\u003ec.f. Rails5.1から導入されるwebpacker.gemは本当にRailsのフロントエンド開発に福音をもたらすのか?\u003cbr\u003e\n\u003ca href=\&quot;http://qiita.com/yuroyoro/items/a29e39989f4469ef5e41\&quot; class=\&quot;autolink\&quot; id=\&quot;reference-11c290a0e789992cd043\&quot;\u003ehttp://qiita.com/yuroyoro/items/a29e39989f4469ef5e41\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eフルスタックにこだわり、Railに載せて開発させるRails。\u003c/p\u003e\n\n\u003cp\u003e自身はサーバーサイドに徹し、JSに多くを任せるLaravel。\u003c/p\u003e\n\n\u003cp\u003eどちらが今後の主流になっていくのか、みものですね。\u003cbr\u003e\nもちろんこの2つ以外も。\u003c/p\u003e\n&quot;,&quot;isDeprecated&quot;:false,&quot;isDestroyable&quot;:false,&quot;isEditRequestSendable&quot;:false,&quot;isLikable&quot;:true,&quot;isStockable&quot;:true,&quot;isUpdatable&quot;:false,&quot;isUpdated&quot;:true,&quot;likeUrl&quot;:&quot;https://qiita.com/api/internal/items/f33381fc60408abe9865/likes&quot;,&quot;stockUrl&quot;:&quot;https://qiita.com/acro5piano/items/f33381fc60408abe9865/stock&quot;,&quot;toc&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%87%A6%E7%90%86%E3%81%AE%E6%B5%81%E3%82%8C\&quot;\u003e処理の流れ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#laravel-%E3%81%AE%E5%BD%B9%E5%89%B2\&quot;\u003eLaravel の役割\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#vue-%E3%81%AE%E5%BD%B9%E5%89%B2\&quot;\u003eVue の役割\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\&quot;\u003e完成イメージ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%A2%E3%83%97%E3%83%AA%E4%BD%9C%E6%88%90\&quot;\u003eアプリ作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89-laravel\&quot;\u003eサーバーサイド (Laravel)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#model\&quot;\u003eModel\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#routing\&quot;\u003eRouting\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#web\&quot;\u003eWeb\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#api\&quot;\u003eAPI\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89\&quot;\u003eフロントエンド\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#webpack-%E3%82%92%E8%B5%B7%E5%8B%95\&quot;\u003eWebpack を起動\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#axios-%E3%82%92%E4%BD%BF%E3%81%86\&quot;\u003eaxios を使う\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AEjs%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\&quot;\u003eメインのJSファイル\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#viewhtml\&quot;\u003eView(HTML)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#vue-component\&quot;\u003eVue Component\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%89%80%E6%84%9F\&quot;\u003e所感\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n&quot;,&quot;totalPv&quot;:12035,&quot;unstockUrl&quot;:&quot;https://qiita.com/acro5piano/items/f33381fc60408abe9865/unstock&quot;,&quot;updatedAtInUnixtime&quot;:1517242094}" data-following-likers-props="[]"><div class="it-Header"><div class="u-flex-center-between mb-3"><div class="it-Header_info"><div class="it-Header_author"><a href="/acro5piano"><img class="it-Header_authorImage" src="https://qiita-image-store.s3.amazonaws.com/0/103885/profile-images/1484882017" alt="1484882017" /></a> <a class="it-Header_authorName" href="/acro5piano">@acro5piano</a> </div><div class="it-Header_time"><meta content="2017-03-07T10:45:42+09:00" itemprop="datePublished" /><span data-toggle="tooltip" title="posted at 2017-03-07">Edited at <time datetime="2018-01-30T01:08:14+09:00" itemprop="dateModified">2018-01-30</time></span></div><div class="it-Header_meta"><div class="it-Header_manipulate"><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h fa-lg"></span></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown__item"><a href="/acro5piano/items/f33381fc60408abe9865/revisions"><span class="fa fa-fw fa-history"></span> Revisions</a></li><li class="dropdown__item"><a href="/acro5piano/items/f33381fc60408abe9865/patches"><span class="fa fa-fw fa-inbox"></span> Edit Requests</a></li><li class="dropdown__item"><a href="/acro5piano/items/f33381fc60408abe9865/likers"><span class="fa fa-fw fa-thumbs-up"></span> Show all likers of this article</a></li><li class="dropdown__item"><a href="/acro5piano/items/f33381fc60408abe9865.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li class="divider" role="separator"></li><li class="dropdown__item"><a data-target=".js-report-form" data-toggle="modal" href="#"><span class="fa fa-fw fa-flag"></span> Report article</a></li></ul></div></div></div></div></div><h1 class="it-Header_title" itemprop="headline">Laravel 5.4 + Vue 2.1 でSPAアプリケーション作成チュートリアル</h1><div class="it-Tags"><a class="it-Tags_item" href="/tags/PHP"><span>PHP</span></a><a class="it-Tags_item" href="/tags/JavaScript"><span>JavaScript</span></a><a class="it-Tags_item" href="/tags/laravel"><span>laravel</span></a><a class="it-Tags_item" href="/tags/vue.js"><span>vue.js</span></a></div></div><div data-mount-target="mobileArticleActions"></div><section class="it-MdContent" itemprop="articleBody"><div id="item-f33381fc60408abe9865"><p>何となく <code>Laravel</code> ＋ <code>Vue.js</code> の使い方が分かってきた。<br>
自分の頭の整理を兼ねて、書き残しておく。</p>

<h1>
<span id="処理の流れ" class="fragment"></span><a href="#%E5%87%A6%E7%90%86%E3%81%AE%E6%B5%81%E3%82%8C"><i class="fa fa-link"></i></a>処理の流れ</h1>

<ul>
<li>ブラウザ → Laravel:  SPAのViewをリクエスト（初回のみ）</li>
<li>Vue → Laravel:  XHRでデータをリクエスト</li>
<li>Vue → ブラウザ:  クライアントサイドでのルーティング</li>
</ul>

<h2>
<span id="laravel-の役割" class="fragment"></span><a href="#laravel-%E3%81%AE%E5%BD%B9%E5%89%B2"><i class="fa fa-link"></i></a>Laravel の役割</h2>

<ul>
<li>Webサーバー。起点となるSPAのViewを初回だけ返す。</li>
<li>APIサーバー。サーバーサイドでデータを処理し、JSONを返す。</li>
</ul>

<h2>
<span id="vue-の役割" class="fragment"></span><a href="#vue-%E3%81%AE%E5%BD%B9%E5%89%B2"><i class="fa fa-link"></i></a>Vue の役割</h2>

<ul>
<li>Viewの描画。変数のバインド、繰り返し、イベント検知など。</li>
<li>Router。 <code>vue-router</code> を使って、URLに対応する Vue Component を設定する。</li>
<li>サーバーサイドにリクエスト。 <code>axios</code> を使う。</li>
</ul>

<p>Laravel には上記を実現する機構が整っている。</p>

<h1>
<span id="完成イメージ" class="fragment"></span><a href="#%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8"><i class="fa fa-link"></i></a>完成イメージ</h1>

<p>ただ記事を表示するだけの、ブログのようなものを作っていく。</p>

<p>SPAなので、コンポーネント志向を使ってモジュール分割することを前提にする。</p>

<p>今後、 <code>JWTAuth</code> を使ったログイン、記事作成、コメント投稿、なども追加していきたい。</p>

<p><a href="https://camo.qiitausercontent.com/78890f048c2f7e4f18fab38c05e5aa5e94045621/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130333838352f32333839353937302d643835362d353038302d313965352d3238616463356139383535662e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/78890f048c2f7e4f18fab38c05e5aa5e94045621/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130333838352f32333839353937302d643835362d353038302d313965352d3238616463356139383535662e706e67" alt="Screenshot_2017-03-07_11-06-41.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/103885/23895970-d856-5080-19e5-28adc5a9855f.png"></a></p>

<p>（あくまでイメージです、このチュートリアルではCSSやSeedを入れてないためこうはなりません）</p>

<p>ちなみにログインが必要な時は、JWTというトークンベースのステートレスな認証を使うと良さげ。本記事は単純化を目指しているので、下記の記事で解説した。</p>

<p><a href="https://qiita.com/acro5piano/items/eb29f13b82f386220460" class="autolink" id="reference-368d7740a4b217c70da1">https://qiita.com/acro5piano/items/eb29f13b82f386220460</a></p>

<h1>
<span id="アプリ作成" class="fragment"></span><a href="#%E3%82%A2%E3%83%97%E3%83%AA%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>アプリ作成</h1>

<p>この辺はいつも通り</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre>composer create-project <span class="nt">--prefer-dist</span> laravel/laravel blog
<span class="nb">cd </span>blog

<span class="c"># change database driver from mysql to sqlite</span>
perl <span class="nt">-i</span> <span class="nt">-pe</span> <span class="s1">'s/DB_.+\n//g'</span> .env
<span class="nb">echo</span> <span class="s1">'DB_CONNECTION=sqlite'</span> <span class="o">&gt;&gt;</span> .env
<span class="nb">touch </span>database/database.sqlite

php artisan serve
</pre></div></div>

<h1>
<span id="サーバーサイド-laravel" class="fragment"></span><a href="#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89-laravel"><i class="fa fa-link"></i></a>サーバーサイド (Laravel)</h1>

<h2>
<span id="model" class="fragment"></span><a href="#model"><i class="fa fa-link"></i></a>Model</h2>

<p>記事を取ってくる <code>Article</code> モデルを作成する</p>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">database/migrations/2017_03_05_064019_create_articles_table.php</span></div>
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Schema</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">CreateArticlesTable</span> <span class="k">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="sd">/**
     * Run the migrations.
     *
     * @return void
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">'articles'</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">increments</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">references</span><span class="p">(</span><span class="s1">'id'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">'users'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">unsigned</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">index</span><span class="p">();</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="s1">'content'</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">string</span><span class="p">(</span><span class="s1">'title'</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">timestamps</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="sd">/**
     * Reverse the migrations.
     *
     * @return void
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">dropIfExists</span><span class="p">(</span><span class="s1">'articles'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">app/Models/Article.php</span></div>
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Model</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Article</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>php artisan migrate
</pre></div></div>

<h2>
<span id="routing" class="fragment"></span><a href="#routing"><i class="fa fa-link"></i></a>Routing</h2>

<h3>
<span id="web" class="fragment"></span><a href="#web"><i class="fa fa-link"></i></a>Web</h3>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">routes/web.php</span></div>
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'/{any}'</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">'app'</span><span class="p">);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'any'</span><span class="p">,</span> <span class="s1">'.*'</span><span class="p">);</span>
</pre></div>
</div>

<p>ブラウザの Routing は Vue が担当するので、不要。<br>
Laravel <code>/api/*</code> 以外の全てのリクエストに対して、 <code>resources/views/app.blade.php</code> を返す。</p>

<p><code>/</code> だけでいいじゃんと思うかもしれないが、それだと <code>/</code> 以外で画面を更新すると Laravel 側のルーティングエラーになってしまう。</p>

<p>よって全てのルーティングで設定しておかないといけない。</p>

<p>参考: <a href="https://laracasts.com/discuss/channels/vue/using-vue-router-with-laravel" class="autolink" rel="nofollow noopener" target="_blank">https://laracasts.com/discuss/channels/vue/using-vue-router-with-laravel</a></p>

<h3>
<span id="api" class="fragment"></span><a href="#api"><i class="fa fa-link"></i></a>API</h3>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">routes/api.php</span></div>
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">group</span><span class="p">([</span><span class="s1">'middleware'</span> <span class="o">=&gt;</span> <span class="s1">'api'</span><span class="p">],</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'articles'</span><span class="p">,</span>  <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$articles</span> <span class="o">=</span> <span class="nx">Article</span><span class="o">::</span><span class="na">all</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
        <span class="k">return</span> <span class="nv">$articles</span><span class="p">;</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>

<p><code>GET /api/articles</code> で、記事5件をJsonで返す。</p>

<p>Controller は簡略化のために今は使わない。<br>
アプリが成熟してきたら、Controller を作成して</p>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">routes/api.php</span></div>
<div class="highlight"><pre><span class="nx">Route</span><span class="o">::</span><span class="na">group</span><span class="p">([</span><span class="s1">'middleware'</span> <span class="o">=&gt;</span> <span class="s1">'api'</span><span class="p">],</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">'articles'</span><span class="p">,</span>  <span class="s1">'ArticleController@index'</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>

<p>などとしても良いだろう。</p>

<h1>
<span id="フロントエンド" class="fragment"></span><a href="#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89"><i class="fa fa-link"></i></a>フロントエンド</h1>

<p><code>vue-router</code> を使う。クライアントサイドでルーティングするためのVue.js公式ライブラリ。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">package.json</span></div>
<div class="highlight"><pre>       "lodash": "^4.17.4",
       "vue": "^2.1.10",
<span class="gi">+++    "vue-router": "^2.3.0"
</span>  }
}
</pre></div>
</div>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>npm install
</pre></div></div>

<h2>
<span id="webpack-を起動" class="fragment"></span><a href="#webpack-%E3%82%92%E8%B5%B7%E5%8B%95"><i class="fa fa-link"></i></a>Webpack を起動</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>npm run watch
</pre></div></div>

<p><code>npm run watch</code> で <code>Webpack</code> が起動し、アプリケーションの変更を検知してフロントエンドをビルドする。<br>
もしここでエラーになったら、 <code>package.json</code> の <code>scripts</code> 以下のパスを適当に調整する。</p>

<h2>
<span id="axios-を使う" class="fragment"></span><a href="#axios-%E3%82%92%E4%BD%BF%E3%81%86"><i class="fa fa-link"></i></a>axios を使う</h2>

<p><code>エイクシオス</code> って発音するらしい。jQueryの <code>$.ajax</code> の代替という認識</p>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">resources/assets/js/bootstrap.js</span></div>
<div class="highlight"><pre><span class="c1">// ...</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'axios'</span><span class="p">)</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">common</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'X-CSRF-TOKEN'</span><span class="p">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">Laravel</span><span class="p">.</span><span class="nx">csrfToken</span><span class="p">,</span>
    <span class="s1">'X-Requested-With'</span><span class="p">:</span> <span class="s1">'XMLHttpRequest'</span>
<span class="p">}</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$http</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">axios</span>

<span class="c1">// ...</span>
</pre></div>
</div>

<p>こうしておくと、 Vue Component から <code>this.$http.get(....</code> みたいに使える。</p>

<p>（追記）<br>
<a href="/foursue" class="user-mention js-hovercard" title="foursue" data-hovercard-target-type="user" data-hovercard-target-name="foursue">@foursue</a> さんから、</p>

<blockquote>
<p>ESLintがエラーを検出してしまうので、こちらのほうが良いのではないでしょうか？<br>
<code>window.Vue.prototype.$http = window.axios</code></p>
</blockquote>

<p>という編集リクエストを頂きました。ありがとうございます。</p>

<p>これについてちょっと調べたのですが、公式アナウンスで</p>

<blockquote>
<p>Vue.prototype.$http = axios と設定すればよいです。</p>
</blockquote>

<p>とあります。</p>

<ul>
<li><a href="https://jp.vuejs.org/2016/11/03/retiring-vue-resource/" class="autolink" rel="nofollow noopener" target="_blank">https://jp.vuejs.org/2016/11/03/retiring-vue-resource/</a></li>
</ul>

<p>また、GitHubでもこのコードはちらほら見かけます。例）</p>

<ul>
<li><a href="https://github.com/pespantelis/vue-typeahead/blob/9d22a63b28569c2f97543e9ddabcde432d1b9926/demo/main.js" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/pespantelis/vue-typeahead/blob/9d22a63b28569c2f97543e9ddabcde432d1b9926/demo/main.js</a></li>
</ul>

<p><code>window.Vue.prototype.$http ...</code> の書き方を採用すると、 <code>Vue.use(...)</code> なども <code>window.Vue.use(...)</code> としなくてはならないので、不自然なのかなと思います。</p>

<p>そもそも <code>window</code> はグローバルオブジェクトで、ブラウザ側からも参照したい値を格納するのに使うものかと思います。</p>

<p>例： <code>window.Laravel.csrfToken = {{ csrf_token() }}</code></p>

<p>なので、このままにしておきます。</p>

<p>ESLint側の設定を変更するか、 <code>window</code> オブジェクトを使っていないファイルに記述するべきかと思います。</p>

<p>ちゃんと <code>window</code> が何だか知る良い機会になりました。重ねてお礼申し上げます。</p>

<h2>
<span id="メインのjsファイル" class="fragment"></span><a href="#%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AEjs%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB"><i class="fa fa-link"></i></a>メインのJSファイル</h2>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">resources/assets/js/app.js</span></div>
<div class="highlight"><pre><span class="k">import</span> <span class="nx">Vue</span> <span class="k">from</span> <span class="s1">'vue'</span>
<span class="k">import</span> <span class="nx">VueRouter</span> <span class="k">from</span> <span class="s1">'vue-router'</span>

<span class="nx">require</span><span class="p">(</span><span class="s1">'./bootstrap'</span><span class="p">)</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">VueRouter</span><span class="p">)</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'navbar'</span><span class="p">,</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./components/Layouts/Navbar.vue'</span><span class="p">))</span>

<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span>
    <span class="na">mode</span><span class="p">:</span> <span class="s1">'history'</span><span class="p">,</span>
    <span class="na">routes</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">path</span><span class="p">:</span> <span class="s1">'/'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./components/Articles/Index.vue'</span><span class="p">)</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">path</span><span class="p">:</span> <span class="s1">'/about'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./components/About.vue'</span><span class="p">)</span> <span class="p">},</span>
    <span class="p">]</span>
<span class="p">})</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
    <span class="nx">router</span><span class="p">,</span>
    <span class="na">el</span><span class="p">:</span> <span class="s1">'#app'</span>
<span class="p">})</span>
</pre></div>
</div>

<p>ここで <code>vue-router</code> を定義しているので、 HTMLに書かれた <code>&lt;router-view&gt;&lt;/router-view&gt;</code> が下記のように動的に変わる。</p>

<ul>
<li>
<code>/</code> -&gt; <code>Articles/Index.vue</code> を表示</li>
<li>
<code>/about</code> -&gt; <code>About.vue</code> を表示</li>
</ul>

<p>記事詳細画面を作るならば</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre><span class="p">{</span> <span class="nl">path</span><span class="p">:</span> <span class="s1">'/articles/:id'</span><span class="p">,</span> <span class="nx">component</span><span class="p">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./components/Articles/Show.vue'</span><span class="p">)</span> <span class="p">},</span>
</pre></div></div>

<p>などというルーティングを設定してもいいでしょう。</p>

<h2>
<span id="viewhtml" class="fragment"></span><a href="#viewhtml"><i class="fa fa-link"></i></a>View(HTML)</h2>

<div class="code-frame" data-lang="php">
<div class="code-lang"><span class="bold">resouces/views/app.blade.php</span></div>
<div class="highlight"><pre><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span> <span class="nx">lang</span><span class="o">=</span><span class="s2">"{{ config('app.locale') }}"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">http</span><span class="o">-</span><span class="nx">equiv</span><span class="o">=</span><span class="s2">"X-UA-Compatible"</span> <span class="nx">content</span><span class="o">=</span><span class="s2">"IE=edge"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"viewport"</span> <span class="nx">content</span><span class="o">=</span><span class="s2">"width=device-width, initial-scale=1"</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">Laravel</span><span class="o">&lt;/</span><span class="nx">title</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">"stylesheet"</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"{{ mix('css/app.css') }}"</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>

        <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
            <span class="nx">window</span><span class="o">.</span><span class="nx">Laravel</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">csrfToken</span><span class="o">:</span> <span class="s2">"{{ csrf_token() }}"</span>
            <span class="p">};</span>
        <span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="nx">head</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"app"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">navbar</span><span class="o">&gt;&lt;/</span><span class="nx">navbar</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="k">class</span><span class="err">="</span><span class="nc">container</span><span class="s2">"&gt;
                &lt;router-view&gt;&lt;/router-view&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
    &lt;script src="</span><span class="p">{{</span> <span class="nx">mix</span><span class="p">(</span><span class="s1">'js/app.js'</span><span class="p">)</span> <span class="p">}}</span><span class="s2">"&gt;&lt;/script&gt;
&lt;/html&gt;
</span></pre></div>
</div>

<p>Laravel はこのファイルを返すだけ。どのURLに対してもこの <code>app.blade.php</code> を返す。</p>

<h2>
<span id="vue-component" class="fragment"></span><a href="#vue-component"><i class="fa fa-link"></i></a>Vue Component</h2>

<p>まずは静的なコンポーネント</p>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">resources/assets/js/components/Layouts/Navbar.vue</span></div>
<div class="highlight"><pre><span class="nt">&lt;template&gt;</span>
    <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"navbar navbar-default"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li&gt;</span>
            <span class="nt">&lt;router-link</span>  <span class="na">to=</span><span class="s">"/about"</span><span class="nt">&gt;</span>About<span class="nt">&lt;/router-link&gt;</span>
        <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/template&gt;</span>
</pre></div>
</div>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">resources/assets/js/components/About.vue</span></div>
<div class="highlight"><pre><span class="nt">&lt;template&gt;</span>
    <span class="nt">&lt;div&gt;</span>
        This page describe who we are.
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>
</pre></div>
</div>

<p>いよいよVueがLaravelに対してリクエストを送る</p>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">resources/assets/js/components/Articles/Index.vue</span></div>
<div class="highlight"><pre><span class="nt">&lt;template&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">v-for=</span><span class="s">"article in articles"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h1&gt;</span>
            <span class="nt">&lt;router-link</span> <span class="na">:to=</span><span class="s">"'/articles/' + article.id"</span><span class="nt">&gt;</span>{{ article.title }}<span class="nt">&lt;/router-link&gt;</span>
        <span class="nt">&lt;/h1&gt;</span>
        <span class="nt">&lt;p&gt;</span>
            {{ article.content }}
        <span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;script&gt;</span>
    <span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
        <span class="nx">created</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">fetchArticles</span><span class="p">()</span>
        <span class="p">},</span>
        <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="na">articles</span><span class="p">:</span> <span class="p">[]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">methods</span><span class="p">:</span> <span class="p">{</span>
            <span class="nx">fetchArticles</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">$http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s1">'/api/articles'</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span>  <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">articles</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
                <span class="p">})</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>

<p><code>created()</code> で、 Component が読み込まれた際に行う処理を書ける。<br>
<code>data()</code> は、Viewに渡す変数を定義する。</p>

<p>TODO:</p>

<p><code>router-link</code> のところは、もっとエレガントに書けるはず。<br>
<code>this.$router.push</code> とかすれば良いのだろうが、長いので今はこのままにする。</p>

<p>c.f.) <a href="http://router.vuejs.org/en/essentials/navigation.html" class="autolink" rel="nofollow noopener" target="_blank">http://router.vuejs.org/en/essentials/navigation.html</a></p>

<p>TODO: <code>created</code> と <code>mounted</code> との違いは何だろう？</p>

<p>↓ 追記</p>

<p><code>created</code> は、SPAアプリが最初に読み込まれたタイミングで一度だけ実行される。<br>
<code>mounted</code> は、 <code>vue-router</code> によってコンポーネントがセットされる度に更新される。</p>

<p>・・・だと思う。本当に最初だけしかやらなくて良い処理は <code>created</code> に書くのが吉。</p>

<h1>
<span id="所感" class="fragment"></span><a href="#%E6%89%80%E6%84%9F"><i class="fa fa-link"></i></a>所感</h1>

<p>以上は走り書きなので、抜け漏れなどあれば指摘お願いしますm(_ _)m</p>

<p>Laravel いいなと思ったのが、最初から </p>

<ul>
<li>
<code>Vue</code>, <code>axios</code> がインストール済み</li>
<li>
<code>Webpack</code> によるビルドが設定済み</li>
<li>
<code>routes/api.php</code>, <code>routes/web.php</code> のルーティング切り分け</li>
</ul>

<p>となっているところです。</p>

<p>JSの管理を自前で行わずに、NodeJSに任せているところが潔くて好きです。</p>

<p>この辺の設計思想は、 <code>webpacker.gem</code> を導入した <code>Rails</code> とは真逆だなと思いました。</p>

<p>c.f. Rails5.1から導入されるwebpacker.gemは本当にRailsのフロントエンド開発に福音をもたらすのか?<br>
<a href="http://qiita.com/yuroyoro/items/a29e39989f4469ef5e41" class="autolink" id="reference-11c290a0e789992cd043">http://qiita.com/yuroyoro/items/a29e39989f4469ef5e41</a></p>

<p>フルスタックにこだわり、Railに載せて開発させるRails。</p>

<p>自身はサーバーサイドに徹し、JSに多くを任せるLaravel。</p>

<p>どちらが今後の主流になっていくのか、みものですね。<br>
もちろんこの2つ以外も。</p>
</div></section></div><div class="p-items_footnote"><ul class="references js-referencesView mt-5"><li class="references_header"><i class="fa fa-fw fa-link"></i> Linked from these articles</li><li class="references_reference js-reference"><span>Linked from </span><a href="/acro5piano/items/712b6b84151b53d0c53b#_reference-765934d55e3cb6bc1c97"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/103885/profile-images/1484882017" />LaravelからVueを使ってSPAっぽくする</a><time class="references_datetime js-dateTimeView" datetime="2017-03-07T02:22:40+00:00">about 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/fruitriin/items/3bc6a557e3956c46560e#_reference-bf960a3de408feb6e74e"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/122390/profile-images/1494341837" />laravel 5.4 + vue 2.x で hot reload する方法</a><time class="references_datetime js-dateTimeView" datetime="2017-08-15T14:31:50+00:00">7 months ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/RyosukeKamei/items/ebbb6134ede39bdf8ec2#_reference-8f92d69f61ef7288375b"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/133154/profile-images/1473718873" />限りなく簡単に解説！LaravelでRestAPIとVueを連携させる！～アジャイルでDevOpsなシステム構築実践～</a><time class="references_datetime js-dateTimeView" datetime="2017-12-19T14:05:17+00:00">3 months ago</time></li></ul></div></div><div class="p-items_options"></div><div class="p-items_toc"><script type="application/json" id="js-react-on-rails-context">{}</script>
<script type="application/json" class="js-react-on-rails-component" data-component-name="Toc" data-dom-id="Toc-react-component-7218a104-16a3-4db4-99d8-fffe93a48428">{"body":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%87%A6%E7%90%86%E3%81%AE%E6%B5%81%E3%82%8C\"\u003e処理の流れ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#laravel-%E3%81%AE%E5%BD%B9%E5%89%B2\"\u003eLaravel の役割\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#vue-%E3%81%AE%E5%BD%B9%E5%89%B2\"\u003eVue の役割\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e完成イメージ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E4%BD%9C%E6%88%90\"\u003eアプリ作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89-laravel\"\u003eサーバーサイド (Laravel)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#model\"\u003eModel\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#routing\"\u003eRouting\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#web\"\u003eWeb\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#api\"\u003eAPI\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89\"\u003eフロントエンド\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#webpack-%E3%82%92%E8%B5%B7%E5%8B%95\"\u003eWebpack を起動\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#axios-%E3%82%92%E4%BD%BF%E3%81%86\"\u003eaxios を使う\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AEjs%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"\u003eメインのJSファイル\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewhtml\"\u003eView(HTML)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#vue-component\"\u003eVue Component\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%80%E6%84%9F\"\u003e所感\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n"}</script>
    <div id="Toc-react-component-7218a104-16a3-4db4-99d8-fffe93a48428"></div>
    
</div></div></div><div class="p-items_container"><div class="p-items_leftDummy"></div><div class="p-items_main"><div class="p-items_aside"><div class="it-AuthorInfo mt-5 mb-5" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><a href="/acro5piano"><img class="it-AuthorInfo_image" itemprop="image" src="https://qiita-image-store.s3.amazonaws.com/0/103885/profile-images/1484882017" alt="1484882017" /></a><div class="it-AuthorInfo_body"><div class="it-AuthorInfo_header"><a class="it-AuthorInfo_name" href="/acro5piano">Kazuya Gosho</a><a class="it-AuthorInfo_urlname" itemprop="name" href="/acro5piano">@acro5piano</a></div><div class="it-AuthorInfo_description">A Web Application Engineer.</div><div class="it-AuthorInfo_footer"><script type="application/json" class="js-react-on-rails-component" data-component-name="UserFollowButton" data-dom-id="UserFollowButton-react-component-c393fdd6-8164-4e2b-a219-c82844263ab0">{"initial_followed_by":false,"position":"ArticleAuthorInfo","size":"btn-xs","url_name":"acro5piano"}</script>
    <div id="UserFollowButton-react-component-c393fdd6-8164-4e2b-a219-c82844263ab0"></div>
    
</div></div></div><div class="p-items_Footer mb-5"><div data-mount-target="articleFooterMenu"></div><div class="it-Footer_social mt-1of2"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Laravel 5.4 + Vue 2.1 でSPAアプリケーション作成チュートリアル on @Qiita" data-url="https://qiita.com/acro5piano/items/f33381fc60408abe9865" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Laravel 5.4 + Vue 2.1 でSPAアプリケーション作成チュートリアル" href="http://b.hatena.ne.jp/entry/https://qiita.com/acro5piano/items/f33381fc60408abe9865" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="https://qiita.com/acro5piano/items/f33381fc60408abe9865" data-size="medium"></div></div><div class="socialButtons_qiitadon"><a class="mastodonShareButton" href="https://qiitadon.com/share?text=Laravel+5.4+%2B+Vue+2.1+%E3%81%A7SPA%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E4%BD%9C%E6%88%90%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB+by+acro5piano+https%3A%2F%2Fqiita.com%2Facro5piano%2Fitems%2Ff33381fc60408abe9865+%23Qiita+%23PHP+%23JavaScript+%23laravel+%23vuejs" target="_blank" title="Toot on Qiitadon">Toot</a></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="https://qiita.com/acro5piano/items/f33381fc60408abe9865" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div></div></div><div class="itemsShowComment_wrapper" id="comments"><script type="application/json" class="js-react-on-rails-component" data-component-name="PublicCommentListContainer" data-dom-id="PublicCommentListContainer-react-component-bf9d7e57-00e5-4643-9979-0f26339e1e13">{"currentUser":null,"initialComments":[],"monthly_public_image_uploadable_size_limit":null,"total_uploaded_public_image_size_in_current_month":null,"item":{"id":474319,"uuid":"f33381fc60408abe9865","suspended":false,"secret":false},"owner":{"url_name":"acro5piano"},"is_team":false,"is_project":false,"logged_in":false,"polling":false,"mention_candidates":[{"id":103885,"url_name":"acro5piano","profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/103885/profile-images/1484882017"}]}</script>
    <div id="PublicCommentListContainer-react-component-bf9d7e57-00e5-4643-9979-0f26339e1e13"></div>
    
<div class="itemsShowCommentSignupOrLogin"><div class="itemsShowCommentSignupOrLogin_title">Sign up for free and join this conversation.</div><a class="btn btn-primary" href="/signup?redirect_to=%2Facro5piano%2Fitems%2Ff33381fc60408abe9865%23comments">Sign Up</a><div class="itemsShowCommentSignupOrLogin_sub">If you already have a Qiita account <a href="/login?redirect_to=%2Facro5piano%2Fitems%2Ff33381fc60408abe9865%23comments">log in.</a></div></div></div></div></div><div class="p-items_rightDummy"></div></div></article><div class="TagList__label" style="display:none"><span></span><span>PHP</span></div><div class="TagList__label" style="display:none"><span></span><span>JavaScript</span></div><div class="TagList__label" style="display:none"><span></span><span>laravel</span></div><div class="TagList__label" style="display:none"><span></span><span>vue.js</span></div><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Report article</h4></div><div class="modal-body"><form class="new_public_issue_report" id="new_public_issue_report" action="/api/internal/issue_reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="y+oKiPnSaTdx/EuIkt6tyErzb6yRMKYLqOPd4wbOi6aO4hCzeadpcoMReFFmwkZxICsNo07z7BmVrnTV7cUofQ==" /><input type="hidden" value="PublicDomainArticle" name="public_issue_report[target_type]" id="public_issue_report_target_type" /><input type="hidden" value="474319" name="public_issue_report[target_id]" id="public_issue_report_target_id" /><p>Help us understand the problem. What is going on with this item?</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input required="required" type="radio" value="spam" name="public_issue_report[reason]" id="public_issue_report_reason_spam" /> It&#39;s spam </label></li><li><label><input required="required" type="radio" value="harassment" name="public_issue_report[reason]" id="public_issue_report_reason_harassment" /> It&#39;s abusive or harmful </label></li><li><label><input required="required" type="radio" value="inappropriate_content" name="public_issue_report[reason]" id="public_issue_report_reason_inappropriate_content" /> It contains inappropriate content </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> Submit</button></div></form></div></div></div></div></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">© 2011-2018 Increments Inc.</a></li><li class="footer_link"><a href="https://qiita.com/terms">Terms</a></li><li class="footer_link"><a href="https://qiita.com/privacy">Privacy</a></li><li class="footer_link"><a href="http://help.qiita.com">Help</a></li><li class="footer_link"><a href="https://increments.zendesk.com/anonymous_requests/new">Contact</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="https://qiita.com/about">About</a></li><li class="footer_link"><a href="/users">Users</a></li><li class="footer_link"><a href="/tags">Tags</a></li><li class="footer_link"><a href="/items">Items</a></li><li class="footer_link"><a href="http://blog.qiita.com">Blog</a></li><li class="footer_link"><a href="https://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Team</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> Feedback <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Feedback</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="GM3nSk/h02LqbdpoqvLs/tfSIcwiS9cjbgdnvL6PUgVdxf1xz5TTJxiA6bFe7gdHvQpDw/2InTFTSs6KVYTx3g==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/acro5piano/items/f33381fc60408abe9865" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Please give us any feedback about Qiita." required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> Submit</button><p class="feedbackForm_note">We don&#39;t reply to any feedback.<br />If you need help with Qiita, please send a support request from <a href="https://increments.zendesk.com/anonymous_requests/new">here</a>.</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>// if (window.mixpanel instanceof Element) {
//   window.mixpanel = [];
// }
// (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
// for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="https://cdn.qiita.com/assets/public-fbffebbf4fd6d1d3332a14c0a1160034.min.js"></script></body></html>